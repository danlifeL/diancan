<view class="container">
  <!-- è´­ç‰©è½¦å†…å®¹ -->
  <view class="cart-content" wx:if="{{cartItems.length > 0}}">
    <!-- å•†å“åˆ—è¡¨ -->
    <view class="cart-list">
      <view class="cart-item" wx:for="{{cartItems}}" wx:key="id">
        <!-- é€‰æ‹©æŒ‰é’® -->
        <view class="select-btn" bindtap="toggleSelect" data-id="{{item.id}}">
          <icon type="{{item.selected ? 'success' : 'circle'}}" size="20" color="{{item.selected ? '#ff69b4' : '#ccc'}}"/>
        </view>
        
        <!-- å•†å“å›¾ç‰‡ -->
        <image class="item-image" src="{{item.image}}" mode="aspectFill"/>
        
        <!-- å•†å“ä¿¡æ¯ -->
        <view class="item-info">
          <text class="item-name">{{item.name}}</text>
          <text class="item-price">Â¥{{item.price}}</text>
          
          <!-- æ•°é‡æ§åˆ¶ -->
          <view class="quantity-control">
            <view class="btn minus {{item.quantity <= 1 ? 'disabled' : ''}}" bindtap="decreaseQuantity" data-id="{{item.id}}">-</view>
            <input class="quantity" type="number" value="{{item.quantity}}" disabled/>
            <view class="btn plus" bindtap="increaseQuantity" data-id="{{item.id}}">+</view>
          </view>
        </view>
        
        <!-- åˆ é™¤æŒ‰é’® -->
        <view class="delete-btn" bindtap="deleteItem" data-id="{{item.id}}">
          <icon type="clear" size="18" color="#999"/>
        </view>
      </view>
    </view>

    <!-- æ¨èå•†å“ -->
    <view class="recommend-section">
      <view class="section-title">ğŸ° çŒœä½ å–œæ¬¢</view>
      <scroll-view class="recommend-list" scroll-x="true">
        <view class="recommend-item" wx:for="{{recommendItems}}" wx:key="id" bindtap="goToDetail" data-id="{{item.id}}">
          <image class="recommend-image" src="{{item.image}}" mode="aspectFill"/>
          <text class="recommend-name">{{item.name}}</text>
          <text class="recommend-price">Â¥{{item.price}}</text>
          <view class="add-btn" catchtap="addToCart" data-item="{{item}}">+</view>
        </view>
      </scroll-view>
    </view>

    <!-- è´­ç‰©è½¦åº•éƒ¨ -->
    <view class="cart-footer">
      <view class="select-all" bindtap="toggleSelectAll">
        <icon type="{{selectAll ? 'success' : 'circle'}}" size="20" color="{{selectAll ? '#ff69b4' : '#ccc'}}"/>
        <text>å…¨é€‰</text>
      </view>
      
      <view class="total-info">
        <text>åˆè®¡: </text>
        <text class="total-price">Â¥{{totalPrice}}</text>
      </view>
      
      <button class="checkout-btn" bindtap="checkout">å»ç»“ç®—({{selectedCount}})</button>
    </view>
  </view>

  <!-- ç©ºè´­ç‰©è½¦ -->
  <view class="empty-cart" wx:else>
    <image class="empty-image" src="/images/empty-cart.png" mode="aspectFit"/>
    <text class="empty-text">è´­ç‰©è½¦è¿˜æ˜¯ç©ºçš„å“¦~</text>
    <button class="go-shopping-btn" bindtap="goShopping">å»é€›é€›</button>
  </view>
</view> 